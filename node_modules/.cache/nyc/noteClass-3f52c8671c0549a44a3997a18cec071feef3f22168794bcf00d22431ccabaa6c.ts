"use strict";function cov_ykmnr1l3z(){var path="/home/usuario/ull-esit-inf-dsi-20-21-prct08-filesystem-notes-app-alu0101209500/src/noteClass.ts";var hash="2d0ab79a8b61c5e9366a4780d935992dc556eedc";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/home/usuario/ull-esit-inf-dsi-20-21-prct08-filesystem-notes-app-alu0101209500/src/noteClass.ts",statementMap:{"0":{start:{line:2,column:0},end:{line:2,column:62}},"1":{start:{line:3,column:0},end:{line:3,column:27}},"2":{start:{line:4,column:16},end:{line:4,column:29}},"3":{start:{line:5,column:14},end:{line:5,column:30}},"4":{start:{line:8,column:8},end:{line:8,column:25}},"5":{start:{line:11,column:8},end:{line:11,column:100}},"6":{start:{line:14,column:8},end:{line:16,column:9}},"7":{start:{line:15,column:12},end:{line:15,column:54}},"8":{start:{line:17,column:8},end:{line:23,column:9}},"9":{start:{line:18,column:12},end:{line:18,column:63}},"10":{start:{line:21,column:12},end:{line:21,column:106}},"11":{start:{line:22,column:12},end:{line:22,column:61}},"12":{start:{line:26,column:8},end:{line:31,column:9}},"13":{start:{line:27,column:12},end:{line:27,column:65}},"14":{start:{line:30,column:12},end:{line:30,column:64}},"15":{start:{line:34,column:8},end:{line:64,column:9}},"16":{start:{line:35,column:12},end:{line:35,column:69}},"17":{start:{line:38,column:12},end:{line:63,column:13}},"18":{start:{line:39,column:16},end:{line:39,column:73}},"19":{start:{line:42,column:16},end:{line:42,column:70}},"20":{start:{line:43,column:16},end:{line:62,column:19}},"21":{start:{line:44,column:34},end:{line:44,column:106}},"22":{start:{line:45,column:20},end:{line:61,column:21}},"23":{start:{line:47,column:28},end:{line:47,column:66}},"24":{start:{line:48,column:28},end:{line:48,column:34}},"25":{start:{line:50,column:28},end:{line:50,column:67}},"26":{start:{line:51,column:28},end:{line:51,column:34}},"27":{start:{line:53,column:28},end:{line:53,column:68}},"28":{start:{line:54,column:28},end:{line:54,column:34}},"29":{start:{line:56,column:28},end:{line:56,column:69}},"30":{start:{line:57,column:28},end:{line:57,column:34}},"31":{start:{line:59,column:28},end:{line:59,column:90}},"32":{start:{line:60,column:28},end:{line:60,column:34}},"33":{start:{line:67,column:8},end:{line:89,column:9}},"34":{start:{line:68,column:26},end:{line:68,column:104}},"35":{start:{line:69,column:12},end:{line:85,column:13}},"36":{start:{line:71,column:20},end:{line:71,column:80}},"37":{start:{line:72,column:20},end:{line:72,column:26}},"38":{start:{line:74,column:20},end:{line:74,column:81}},"39":{start:{line:75,column:20},end:{line:75,column:26}},"40":{start:{line:77,column:20},end:{line:77,column:82}},"41":{start:{line:78,column:20},end:{line:78,column:26}},"42":{start:{line:80,column:20},end:{line:80,column:83}},"43":{start:{line:81,column:20},end:{line:81,column:26}},"44":{start:{line:83,column:20},end:{line:83,column:82}},"45":{start:{line:84,column:20},end:{line:84,column:26}},"46":{start:{line:88,column:12},end:{line:88,column:64}},"47":{start:{line:92,column:8},end:{line:109,column:9}},"48":{start:{line:93,column:26},end:{line:93,column:104}},"49":{start:{line:94,column:12},end:{line:96,column:13}},"50":{start:{line:95,column:16},end:{line:95,column:47}},"51":{start:{line:97,column:12},end:{line:99,column:13}},"52":{start:{line:98,column:16},end:{line:98,column:44}},"53":{start:{line:100,column:12},end:{line:102,column:13}},"54":{start:{line:101,column:16},end:{line:101,column:46}},"55":{start:{line:103,column:12},end:{line:103,column:65}},"56":{start:{line:104,column:12},end:{line:104,column:138}},"57":{start:{line:105,column:12},end:{line:105,column:62}},"58":{start:{line:108,column:12},end:{line:108,column:64}},"59":{start:{line:112,column:0},end:{line:112,column:30}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:7,column:4},end:{line:7,column:5}},loc:{start:{line:7,column:22},end:{line:9,column:5}},line:7},"1":{name:"(anonymous_1)",decl:{start:{line:10,column:4},end:{line:10,column:5}},loc:{start:{line:10,column:32},end:{line:12,column:5}},line:10},"2":{name:"(anonymous_2)",decl:{start:{line:13,column:4},end:{line:13,column:5}},loc:{start:{line:13,column:32},end:{line:24,column:5}},line:13},"3":{name:"(anonymous_3)",decl:{start:{line:25,column:4},end:{line:25,column:5}},loc:{start:{line:25,column:18},end:{line:32,column:5}},line:25},"4":{name:"(anonymous_4)",decl:{start:{line:33,column:4},end:{line:33,column:5}},loc:{start:{line:33,column:13},end:{line:65,column:5}},line:33},"5":{name:"(anonymous_5)",decl:{start:{line:43,column:68},end:{line:43,column:69}},loc:{start:{line:43,column:78},end:{line:62,column:17}},line:43},"6":{name:"(anonymous_6)",decl:{start:{line:66,column:4},end:{line:66,column:5}},loc:{start:{line:66,column:20},end:{line:90,column:5}},line:66},"7":{name:"(anonymous_7)",decl:{start:{line:91,column:4},end:{line:91,column:5}},loc:{start:{line:91,column:43},end:{line:110,column:5}},line:91}},branchMap:{"0":{loc:{start:{line:14,column:8},end:{line:16,column:9}},type:"if",locations:[{start:{line:14,column:8},end:{line:16,column:9}},{start:{line:14,column:8},end:{line:16,column:9}}],line:14},"1":{loc:{start:{line:17,column:8},end:{line:23,column:9}},type:"if",locations:[{start:{line:17,column:8},end:{line:23,column:9}},{start:{line:17,column:8},end:{line:23,column:9}}],line:17},"2":{loc:{start:{line:26,column:8},end:{line:31,column:9}},type:"if",locations:[{start:{line:26,column:8},end:{line:31,column:9}},{start:{line:26,column:8},end:{line:31,column:9}}],line:26},"3":{loc:{start:{line:34,column:8},end:{line:64,column:9}},type:"if",locations:[{start:{line:34,column:8},end:{line:64,column:9}},{start:{line:34,column:8},end:{line:64,column:9}}],line:34},"4":{loc:{start:{line:38,column:12},end:{line:63,column:13}},type:"if",locations:[{start:{line:38,column:12},end:{line:63,column:13}},{start:{line:38,column:12},end:{line:63,column:13}}],line:38},"5":{loc:{start:{line:45,column:20},end:{line:61,column:21}},type:"switch",locations:[{start:{line:46,column:24},end:{line:48,column:34}},{start:{line:49,column:24},end:{line:51,column:34}},{start:{line:52,column:24},end:{line:54,column:34}},{start:{line:55,column:24},end:{line:57,column:34}},{start:{line:58,column:24},end:{line:60,column:34}}],line:45},"6":{loc:{start:{line:67,column:8},end:{line:89,column:9}},type:"if",locations:[{start:{line:67,column:8},end:{line:89,column:9}},{start:{line:67,column:8},end:{line:89,column:9}}],line:67},"7":{loc:{start:{line:69,column:12},end:{line:85,column:13}},type:"switch",locations:[{start:{line:70,column:16},end:{line:72,column:26}},{start:{line:73,column:16},end:{line:75,column:26}},{start:{line:76,column:16},end:{line:78,column:26}},{start:{line:79,column:16},end:{line:81,column:26}},{start:{line:82,column:16},end:{line:84,column:26}}],line:69},"8":{loc:{start:{line:92,column:8},end:{line:109,column:9}},type:"if",locations:[{start:{line:92,column:8},end:{line:109,column:9}},{start:{line:92,column:8},end:{line:109,column:9}}],line:92},"9":{loc:{start:{line:94,column:12},end:{line:96,column:13}},type:"if",locations:[{start:{line:94,column:12},end:{line:96,column:13}},{start:{line:94,column:12},end:{line:96,column:13}}],line:94},"10":{loc:{start:{line:97,column:12},end:{line:99,column:13}},type:"if",locations:[{start:{line:97,column:12},end:{line:99,column:13}},{start:{line:97,column:12},end:{line:99,column:13}}],line:97},"11":{loc:{start:{line:100,column:12},end:{line:102,column:13}},type:"if",locations:[{start:{line:100,column:12},end:{line:102,column:13}},{start:{line:100,column:12},end:{line:102,column:13}}],line:100}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0},b:{"0":[0,0],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0,0,0,0],"6":[0,0],"7":[0,0,0,0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0]},inputSourceMap:{version:3,file:"/home/usuario/ull-esit-inf-dsi-20-21-prct08-filesystem-notes-app-alu0101209500/src/noteClass.ts",sources:["/home/usuario/ull-esit-inf-dsi-20-21-prct08-filesystem-notes-app-alu0101209500/src/noteClass.ts"],names:[],mappings:"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",sourcesContent:["import * as filesys from \"fs\";\nimport * as chalk from \"chalk\";\n\nexport class NoteClass {\n    constructor(private user:string){}\n\n    getJSON(title:string, body:string, color:string){\n        return `{\\n\\t\\\"title\\\":\\\"${title}\\\",\\n\\t\\\"body\\\":\\\"${body}\\\",\\n\\t\\\"color\\\":\\\"${color}\\\"\\n}`;\n    }\n    addNote(title:string, body:string, color:string){\n        if(!filesys.existsSync(`./files/${this.user}`)){\n            filesys.mkdirSync(`./files/${this.user}`);\n        }\n        if (filesys.existsSync(`./files/${this.user}/${title}.json`)){\n            console.log(chalk.red(\"The note already exists!\"));\n        } else {\n            filesys.writeFileSync(`./files/${this.user}/${title}.json`, this.getJSON(title, body, color));\n            console.log(chalk.green(\"Succesfully created!\"));\n        }\n    }\n    rmNote(title:string){\n        if (filesys.existsSync(`./files/${this.user}/${title}.json`)){\n            filesys.rmSync(`./files/${this.user}/${title}.json`);\n        } else {\n            console.log(chalk.red(\"That note does not exist.\"));\n        }\n    }\n    lsNote(){\n        if(!filesys.existsSync(`./files/${this.user}`)){\n            console.log(chalk.red(`User ${this.user} has no notes`));\n        } else {\n            if(filesys.readdirSync(`./files/${this.user}`).length == 0){\n                console.log(chalk.red(`User ${this.user} has no notes`));\n            } else {\n                console.log(chalk.green(`Notes of ${this.user}: \\n`));\n                filesys.readdirSync(`./files/${this.user}`).forEach((elem) => {\n                    let jsonobj = JSON.parse(String(filesys.readFileSync(`./files/${this.user}/${elem}`)));\n                    switch (jsonobj.color) {\n                        case \"red\":\n                            console.log(chalk.red(jsonobj.title));\n                            break;\n                        case \"blue\":\n                            console.log(chalk.blue(jsonobj.title));\n                            break;\n                        case \"green\":\n                            console.log(chalk.green(jsonobj.title));\n                            break;\n                        case \"yellow\":\n                            console.log(chalk.yellow(jsonobj.title));\n                            break;\n                        default:\n                            console.log(chalk.red(\"The color of this note is not valid\"));\n                            break;\n                    }\n                });\n            }\n        }\n    }\n    readNote(title:string){\n        if (filesys.existsSync(`./files/${this.user}/${title}.json`)){\n            let jsonobj = JSON.parse(String(filesys.readFileSync(`./files/${this.user}/${title}.json`)));\n            switch (jsonobj.color) {\n                case \"red\":\n                    console.log(chalk.red(jsonobj.title + \"\\n\" + jsonobj.body));\n                    break;\n                case \"blue\":\n                    console.log(chalk.blue(jsonobj.title + \"\\n\" + jsonobj.body));\n                    break;\n                case \"green\":\n                    console.log(chalk.green(jsonobj.title + \"\\n\" + jsonobj.body));\n                    break;\n                case \"yellow\":\n                    console.log(chalk.yellow(jsonobj.title + \"\\n\" + jsonobj.body));\n                    break;\n                default:\n                    console.log(chalk.red(\"The color of this note is not valid\"));\n                    break;\n            }\n        } else {\n            console.log(chalk.red(\"That note does not exist.\"));\n        }\n    }\n    modifyNote(title:string, ntitle:string|unknown, body:string|unknown, color:string|unknown){\n        if (filesys.existsSync(`./files/${this.user}/${title}.json`)){\n            let jsonobj = JSON.parse(String(filesys.readFileSync(`./files/${this.user}/${title}.json`)));\n            if (ntitle != undefined){\n                jsonobj.title = String(ntitle);\n            }\n            if (body != undefined){\n                jsonobj.body = String(body);\n            }\n            if (color != undefined){\n                jsonobj.color = String(color);\n            }\n            filesys.rmSync(`./files/${this.user}/${title}.json`);\n            filesys.writeFileSync(`./files/${this.user}/${jsonobj.title}.json`, this.getJSON(jsonobj.title, jsonobj.body, jsonobj.color));\n            console.log(chalk.green(\"Succesfully modified!\"));\n        } else {\n            console.log(chalk.red(\"That note does not exist.\"));\n        }\n    }\n}"]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"2d0ab79a8b61c5e9366a4780d935992dc556eedc"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_ykmnr1l3z=function(){return actualCoverage;};}return actualCoverage;}cov_ykmnr1l3z();cov_ykmnr1l3z().s[0]++;Object.defineProperty(exports,"__esModule",{value:true});cov_ykmnr1l3z().s[1]++;exports.NoteClass=void 0;const filesys=(cov_ykmnr1l3z().s[2]++,require("fs"));const chalk=(cov_ykmnr1l3z().s[3]++,require("chalk"));class NoteClass{constructor(user){cov_ykmnr1l3z().f[0]++;cov_ykmnr1l3z().s[4]++;this.user=user;}getJSON(title,body,color){cov_ykmnr1l3z().f[1]++;cov_ykmnr1l3z().s[5]++;return`{\n\t\"title\":\"${title}\",\n\t\"body\":\"${body}\",\n\t\"color\":\"${color}\"\n}`;}addNote(title,body,color){cov_ykmnr1l3z().f[2]++;cov_ykmnr1l3z().s[6]++;if(!filesys.existsSync(`./files/${this.user}`)){cov_ykmnr1l3z().b[0][0]++;cov_ykmnr1l3z().s[7]++;filesys.mkdirSync(`./files/${this.user}`);}else{cov_ykmnr1l3z().b[0][1]++;}cov_ykmnr1l3z().s[8]++;if(filesys.existsSync(`./files/${this.user}/${title}.json`)){cov_ykmnr1l3z().b[1][0]++;cov_ykmnr1l3z().s[9]++;console.log(chalk.red("The note already exists!"));}else{cov_ykmnr1l3z().b[1][1]++;cov_ykmnr1l3z().s[10]++;filesys.writeFileSync(`./files/${this.user}/${title}.json`,this.getJSON(title,body,color));cov_ykmnr1l3z().s[11]++;console.log(chalk.green("Succesfully created!"));}}rmNote(title){cov_ykmnr1l3z().f[3]++;cov_ykmnr1l3z().s[12]++;if(filesys.existsSync(`./files/${this.user}/${title}.json`)){cov_ykmnr1l3z().b[2][0]++;cov_ykmnr1l3z().s[13]++;filesys.rmSync(`./files/${this.user}/${title}.json`);}else{cov_ykmnr1l3z().b[2][1]++;cov_ykmnr1l3z().s[14]++;console.log(chalk.red("That note does not exist."));}}lsNote(){cov_ykmnr1l3z().f[4]++;cov_ykmnr1l3z().s[15]++;if(!filesys.existsSync(`./files/${this.user}`)){cov_ykmnr1l3z().b[3][0]++;cov_ykmnr1l3z().s[16]++;console.log(chalk.red(`User ${this.user} has no notes`));}else{cov_ykmnr1l3z().b[3][1]++;cov_ykmnr1l3z().s[17]++;if(filesys.readdirSync(`./files/${this.user}`).length==0){cov_ykmnr1l3z().b[4][0]++;cov_ykmnr1l3z().s[18]++;console.log(chalk.red(`User ${this.user} has no notes`));}else{cov_ykmnr1l3z().b[4][1]++;cov_ykmnr1l3z().s[19]++;console.log(chalk.green(`Notes of ${this.user}: \n`));cov_ykmnr1l3z().s[20]++;filesys.readdirSync(`./files/${this.user}`).forEach(elem=>{cov_ykmnr1l3z().f[5]++;let jsonobj=(cov_ykmnr1l3z().s[21]++,JSON.parse(String(filesys.readFileSync(`./files/${this.user}/${elem}`))));cov_ykmnr1l3z().s[22]++;switch(jsonobj.color){case"red":cov_ykmnr1l3z().b[5][0]++;cov_ykmnr1l3z().s[23]++;console.log(chalk.red(jsonobj.title));cov_ykmnr1l3z().s[24]++;break;case"blue":cov_ykmnr1l3z().b[5][1]++;cov_ykmnr1l3z().s[25]++;console.log(chalk.blue(jsonobj.title));cov_ykmnr1l3z().s[26]++;break;case"green":cov_ykmnr1l3z().b[5][2]++;cov_ykmnr1l3z().s[27]++;console.log(chalk.green(jsonobj.title));cov_ykmnr1l3z().s[28]++;break;case"yellow":cov_ykmnr1l3z().b[5][3]++;cov_ykmnr1l3z().s[29]++;console.log(chalk.yellow(jsonobj.title));cov_ykmnr1l3z().s[30]++;break;default:cov_ykmnr1l3z().b[5][4]++;cov_ykmnr1l3z().s[31]++;console.log(chalk.red("The color of this note is not valid"));cov_ykmnr1l3z().s[32]++;break;}});}}}readNote(title){cov_ykmnr1l3z().f[6]++;cov_ykmnr1l3z().s[33]++;if(filesys.existsSync(`./files/${this.user}/${title}.json`)){cov_ykmnr1l3z().b[6][0]++;let jsonobj=(cov_ykmnr1l3z().s[34]++,JSON.parse(String(filesys.readFileSync(`./files/${this.user}/${title}.json`))));cov_ykmnr1l3z().s[35]++;switch(jsonobj.color){case"red":cov_ykmnr1l3z().b[7][0]++;cov_ykmnr1l3z().s[36]++;console.log(chalk.red(jsonobj.title+"\n"+jsonobj.body));cov_ykmnr1l3z().s[37]++;break;case"blue":cov_ykmnr1l3z().b[7][1]++;cov_ykmnr1l3z().s[38]++;console.log(chalk.blue(jsonobj.title+"\n"+jsonobj.body));cov_ykmnr1l3z().s[39]++;break;case"green":cov_ykmnr1l3z().b[7][2]++;cov_ykmnr1l3z().s[40]++;console.log(chalk.green(jsonobj.title+"\n"+jsonobj.body));cov_ykmnr1l3z().s[41]++;break;case"yellow":cov_ykmnr1l3z().b[7][3]++;cov_ykmnr1l3z().s[42]++;console.log(chalk.yellow(jsonobj.title+"\n"+jsonobj.body));cov_ykmnr1l3z().s[43]++;break;default:cov_ykmnr1l3z().b[7][4]++;cov_ykmnr1l3z().s[44]++;console.log(chalk.red("The color of this note is not valid"));cov_ykmnr1l3z().s[45]++;break;}}else{cov_ykmnr1l3z().b[6][1]++;cov_ykmnr1l3z().s[46]++;console.log(chalk.red("That note does not exist."));}}modifyNote(title,ntitle,body,color){cov_ykmnr1l3z().f[7]++;cov_ykmnr1l3z().s[47]++;if(filesys.existsSync(`./files/${this.user}/${title}.json`)){cov_ykmnr1l3z().b[8][0]++;let jsonobj=(cov_ykmnr1l3z().s[48]++,JSON.parse(String(filesys.readFileSync(`./files/${this.user}/${title}.json`))));cov_ykmnr1l3z().s[49]++;if(ntitle!=undefined){cov_ykmnr1l3z().b[9][0]++;cov_ykmnr1l3z().s[50]++;jsonobj.title=String(ntitle);}else{cov_ykmnr1l3z().b[9][1]++;}cov_ykmnr1l3z().s[51]++;if(body!=undefined){cov_ykmnr1l3z().b[10][0]++;cov_ykmnr1l3z().s[52]++;jsonobj.body=String(body);}else{cov_ykmnr1l3z().b[10][1]++;}cov_ykmnr1l3z().s[53]++;if(color!=undefined){cov_ykmnr1l3z().b[11][0]++;cov_ykmnr1l3z().s[54]++;jsonobj.color=String(color);}else{cov_ykmnr1l3z().b[11][1]++;}cov_ykmnr1l3z().s[55]++;filesys.rmSync(`./files/${this.user}/${title}.json`);cov_ykmnr1l3z().s[56]++;filesys.writeFileSync(`./files/${this.user}/${jsonobj.title}.json`,this.getJSON(jsonobj.title,jsonobj.body,jsonobj.color));cov_ykmnr1l3z().s[57]++;console.log(chalk.green("Succesfully modified!"));}else{cov_ykmnr1l3z().b[8][1]++;cov_ykmnr1l3z().s[58]++;console.log(chalk.red("That note does not exist."));}}}cov_ykmnr1l3z().s[59]++;exports.NoteClass=NoteClass;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiL2hvbWUvdXN1YXJpby91bGwtZXNpdC1pbmYtZHNpLTIwLTIxLXByY3QwOC1maWxlc3lzdGVtLW5vdGVzLWFwcC1hbHUwMTAxMjA5NTAwL3NyYy9ub3RlQ2xhc3MudHMiLCJzb3VyY2VzIjpbIi9ob21lL3VzdWFyaW8vdWxsLWVzaXQtaW5mLWRzaS0yMC0yMS1wcmN0MDgtZmlsZXN5c3RlbS1ub3Rlcy1hcHAtYWx1MDEwMTIwOTUwMC9zcmMvbm90ZUNsYXNzLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7OztBQUFBLDhCQUE4QjtBQUM5QiwrQkFBK0I7QUFFL0IsTUFBYSxTQUFTO0lBQ2xCLFlBQW9CLElBQVc7UUFBWCxTQUFJLEdBQUosSUFBSSxDQUFPO0lBQUUsQ0FBQztJQUVsQyxPQUFPLENBQUMsS0FBWSxFQUFFLElBQVcsRUFBRSxLQUFZO1FBQzNDLE9BQU8sb0JBQW9CLEtBQUsscUJBQXFCLElBQUksc0JBQXNCLEtBQUssT0FBTyxDQUFDO0lBQ2hHLENBQUM7SUFDRCxPQUFPLENBQUMsS0FBWSxFQUFFLElBQVcsRUFBRSxLQUFZO1FBQzNDLElBQUcsQ0FBQyxPQUFPLENBQUMsVUFBVSxDQUFDLFdBQVcsSUFBSSxDQUFDLElBQUksRUFBRSxDQUFDLEVBQUM7WUFDM0MsT0FBTyxDQUFDLFNBQVMsQ0FBQyxXQUFXLElBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQyxDQUFDO1NBQzdDO1FBQ0QsSUFBSSxPQUFPLENBQUMsVUFBVSxDQUFDLFdBQVcsSUFBSSxDQUFDLElBQUksSUFBSSxLQUFLLE9BQU8sQ0FBQyxFQUFDO1lBQ3pELE9BQU8sQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQywwQkFBMEIsQ0FBQyxDQUFDLENBQUM7U0FDdEQ7YUFBTTtZQUNILE9BQU8sQ0FBQyxhQUFhLENBQUMsV0FBVyxJQUFJLENBQUMsSUFBSSxJQUFJLEtBQUssT0FBTyxFQUFFLElBQUksQ0FBQyxPQUFPLENBQUMsS0FBSyxFQUFFLElBQUksRUFBRSxLQUFLLENB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QUMsRUFBQztZQUN6RCxJQUFJLE9BQU8sR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsWUFBWSxDQUFDLFdBQVcsSUFBSSxDQUFDLElBQUksSUFBSSxLQUFLLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUM3RixJQUFJLE1BQU0sSUFBSSxTQUFTLEVBQUM7Z0JBQ3BCLE9BQU8sQ0FBQyxLQUFLLEdBQUcsTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDO2FBQ2xDO1lBQ0QsSUFBSSxJQUFJLElBQUksU0FBUyxFQUFDO2dCQUNsQixPQUFPLENBQUMsSUFBSSxHQUFHLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQzthQUMvQjtZQUNELElBQUksS0FBSyxJQUFJLFNBQVMsRUFBQztnQkFDbkIsT0FBTyxDQUFDLEtBQUssR0FBRyxNQUFNLENBQUMsS0FBSyxDQUFDLENBQUM7YUFDakM7WUFDRCxPQUFPLENBQUMsTUFBTSxDQUFDLFdBQVcsSUFBSSxDQUFDLElBQUksSUFBSSxLQUFLLE9BQU8sQ0FBQyxDQUFDO1lBQ3JELE9BQU8sQ0FBQyxhQUFhLENBQUMsV0FBVyxJQUFJLENBQUMsSUFBSSxJQUFJLE9BQU8sQ0FBQyxLQUFLLE9BQU8sRUFBRSxJQUFJLENBQUMsT0FBTyxDQUFDLE9BQU8sQ0FBQyxLQUFLLEVBQUUsT0FBTyxDQUFDLElBQUksRUFBRSxPQUFPLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQztZQUM5SCxPQUFPLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsdUJBQXVCLENBQUMsQ0FBQyxDQUFDO1NBQ3JEO2FBQU07WUFDSCxPQUFPLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsMkJBQTJCLENBQUMsQ0FBQyxDQUFDO1NBQ3ZEO0lBQ0wsQ0FBQztDQUNKO0FBbEdELDhCQWtHQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIGZpbGVzeXMgZnJvbSBcImZzXCI7XG5pbXBvcnQgKiBhcyBjaGFsayBmcm9tIFwiY2hhbGtcIjtcblxuZXhwb3J0IGNsYXNzIE5vdGVDbGFzcyB7XG4gICAgY29uc3RydWN0b3IocHJpdmF0ZSB1c2VyOnN0cmluZyl7fVxuXG4gICAgZ2V0SlNPTih0aXRsZTpzdHJpbmcsIGJvZHk6c3RyaW5nLCBjb2xvcjpzdHJpbmcpe1xuICAgICAgICByZXR1cm4gYHtcXG5cXHRcXFwidGl0bGVcXFwiOlxcXCIke3RpdGxlfVxcXCIsXFxuXFx0XFxcImJvZHlcXFwiOlxcXCIke2JvZHl9XFxcIixcXG5cXHRcXFwiY29sb3JcXFwiOlxcXCIke2NvbG9yfVxcXCJcXG59YDtcbiAgICB9XG4gICAgYWRkTm90ZSh0aXRsZTpzdHJpbmcsIGJvZHk6c3RyaW5nLCBjb2xvcjpzdHJpbmcpe1xuICAgICAgICBpZighZmlsZXN5cy5leGlzdHNTeW5jKGAuL2ZpbGVzLyR7dGhpcy51c2VyfWApKXtcbiAgICAgICAgICAgIGZpbGVzeXMubWtkaXJTeW5jKGAuL2ZpbGVzLyR7dGhpcy51c2VyfWApO1xuICAgICAgICB9XG4gICAgICAgIGlmIChmaWxlc3lzLmV4aXN0c1N5bmMoYC4vZmlsZXMvJHt0aGlzLnVzZXJ9LyR7dGl0bGV9Lmpzb25gKSl7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhjaGFsay5yZWQoXCJUaGUgbm90ZSBhbHJlYWR5IGV4aXN0cyFcIikpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZmlsZXN5cy53cml0ZUZpbGVTeW5jKGAuL2ZpbGVzLyR7dGhpcy51c2VyfS8ke3RpdGxlfS5qc29uYCwgdGhpcy5nZXRKU09OKHRpdGxlLCBib2R5LCBjb2xvcikpO1xuICAgICAgICAgICAgY29uc29sZS5sb2coY2hhbGsuZ3JlZW4oXCJTdWNjZXNmdWxseSBjcmVhdGVkIVwiKSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcm1Ob3RlKHRpdGxlOnN0cmluZyl7XG4gICAgICAgIGlmIChmaWxlc3lzLmV4aXN0c1N5bmMoYC4vZmlsZXMvJHt0aGlzLnVzZXJ9LyR7dGl0bGV9Lmpzb25gKSl7XG4gICAgICAgICAgICBmaWxlc3lzLnJtU3luYyhgLi9maWxlcy8ke3RoaXMudXNlcn0vJHt0aXRsZX0uanNvbmApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc29sZS5sb2coY2hhbGsucmVkKFwiVGhhdCBub3RlIGRvZXMgbm90IGV4aXN0LlwiKSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgbHNOb3RlKCl7XG4gICAgICAgIGlmKCFmaWxlc3lzLmV4aXN0c1N5bmMoYC4vZmlsZXMvJHt0aGlzLnVzZXJ9YCkpe1xuICAgICAgICAgICAgY29uc29sZS5sb2coY2hhbGsucmVkKGBVc2VyICR7dGhpcy51c2VyfSBoYXMgbm8gbm90ZXNgKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZihmaWxlc3lzLnJlYWRkaXJTeW5jKGAuL2ZpbGVzLyR7dGhpcy51c2VyfWApLmxlbmd0aCA9PSAwKXtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhjaGFsay5yZWQoYFVzZXIgJHt0aGlzLnVzZXJ9IGhhcyBubyBub3Rlc2ApKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coY2hhbGsuZ3JlZW4oYE5vdGVzIG9mICR7dGhpcy51c2VyfTogXFxuYCkpO1xuICAgICAgICAgICAgICAgIGZpbGVzeXMucmVhZGRpclN5bmMoYC4vZmlsZXMvJHt0aGlzLnVzZXJ9YCkuZm9yRWFjaCgoZWxlbSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBsZXQganNvbm9iaiA9IEpTT04ucGFyc2UoU3RyaW5nKGZpbGVzeXMucmVhZEZpbGVTeW5jKGAuL2ZpbGVzLyR7dGhpcy51c2VyfS8ke2VsZW19YCkpKTtcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChqc29ub2JqLmNvbG9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwicmVkXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coY2hhbGsucmVkKGpzb25vYmoudGl0bGUpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJibHVlXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coY2hhbGsuYmx1ZShqc29ub2JqLnRpdGxlKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiZ3JlZW5cIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhjaGFsay5ncmVlbihqc29ub2JqLnRpdGxlKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwieWVsbG93XCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coY2hhbGsueWVsbG93KGpzb25vYmoudGl0bGUpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coY2hhbGsucmVkKFwiVGhlIGNvbG9yIG9mIHRoaXMgbm90ZSBpcyBub3QgdmFsaWRcIikpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmVhZE5vdGUodGl0bGU6c3RyaW5nKXtcbiAgICAgICAgaWYgKGZpbGVzeXMuZXhpc3RzU3luYyhgLi9maWxlcy8ke3RoaXMudXNlcn0vJHt0aXRsZX0uanNvbmApKXtcbiAgICAgICAgICAgIGxldCBqc29ub2JqID0gSlNPTi5wYXJzZShTdHJpbmcoZmlsZXN5cy5yZWFkRmlsZVN5bmMoYC4vZmlsZXMvJHt0aGlzLnVzZXJ9LyR7dGl0bGV9Lmpzb25gKSkpO1xuICAgICAgICAgICAgc3dpdGNoIChqc29ub2JqLmNvbG9yKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBcInJlZFwiOlxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhjaGFsay5yZWQoanNvbm9iai50aXRsZSArIFwiXFxuXCIgKyBqc29ub2JqLmJvZHkpKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcImJsdWVcIjpcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coY2hhbGsuYmx1ZShqc29ub2JqLnRpdGxlICsgXCJcXG5cIiArIGpzb25vYmouYm9keSkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwiZ3JlZW5cIjpcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coY2hhbGsuZ3JlZW4oanNvbm9iai50aXRsZSArIFwiXFxuXCIgKyBqc29ub2JqLmJvZHkpKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcInllbGxvd1wiOlxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhjaGFsay55ZWxsb3coanNvbm9iai50aXRsZSArIFwiXFxuXCIgKyBqc29ub2JqLmJvZHkpKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coY2hhbGsucmVkKFwiVGhlIGNvbG9yIG9mIHRoaXMgbm90ZSBpcyBub3QgdmFsaWRcIikpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGNoYWxrLnJlZChcIlRoYXQgbm90ZSBkb2VzIG5vdCBleGlzdC5cIikpO1xuICAgICAgICB9XG4gICAgfVxuICAgIG1vZGlmeU5vdGUodGl0bGU6c3RyaW5nLCBudGl0bGU6c3RyaW5nfHVua25vd24sIGJvZHk6c3RyaW5nfHVua25vd24sIGNvbG9yOnN0cmluZ3x1bmtub3duKXtcbiAgICAgICAgaWYgKGZpbGVzeXMuZXhpc3RzU3luYyhgLi9maWxlcy8ke3RoaXMudXNlcn0vJHt0aXRsZX0uanNvbmApKXtcbiAgICAgICAgICAgIGxldCBqc29ub2JqID0gSlNPTi5wYXJzZShTdHJpbmcoZmlsZXN5cy5yZWFkRmlsZVN5bmMoYC4vZmlsZXMvJHt0aGlzLnVzZXJ9LyR7dGl0bGV9Lmpzb25gKSkpO1xuICAgICAgICAgICAgaWYgKG50aXRsZSAhPSB1bmRlZmluZWQpe1xuICAgICAgICAgICAgICAgIGpzb25vYmoudGl0bGUgPSBTdHJpbmcobnRpdGxlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChib2R5ICE9IHVuZGVmaW5lZCl7XG4gICAgICAgICAgICAgICAganNvbm9iai5ib2R5ID0gU3RyaW5nKGJvZHkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGNvbG9yICE9IHVuZGVmaW5lZCl7XG4gICAgICAgICAgICAgICAganNvbm9iai5jb2xvciA9IFN0cmluZyhjb2xvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmaWxlc3lzLnJtU3luYyhgLi9maWxlcy8ke3RoaXMudXNlcn0vJHt0aXRsZX0uanNvbmApO1xuICAgICAgICAgICAgZmlsZXN5cy53cml0ZUZpbGVTeW5jKGAuL2ZpbGVzLyR7dGhpcy51c2VyfS8ke2pzb25vYmoudGl0bGV9Lmpzb25gLCB0aGlzLmdldEpTT04oanNvbm9iai50aXRsZSwganNvbm9iai5ib2R5LCBqc29ub2JqLmNvbG9yKSk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhjaGFsay5ncmVlbihcIlN1Y2Nlc2Z1bGx5IG1vZGlmaWVkIVwiKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhjaGFsay5yZWQoXCJUaGF0IG5vdGUgZG9lcyBub3QgZXhpc3QuXCIpKTtcbiAgICAgICAgfVxuICAgIH1cbn0iXX0=
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL3VzdWFyaW8vdWxsLWVzaXQtaW5mLWRzaS0yMC0yMS1wcmN0MDgtZmlsZXN5c3RlbS1ub3Rlcy1hcHAtYWx1MDEwMTIwOTUwMC9zcmMvbm90ZUNsYXNzLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJpcmlCQVlTO3lOQVpULEtBQUEsQ0FBQSxPQUFBLHlCQUFBLE9BQUEsQ0FBQSxJQUFBLENBQUEsQ0FBQSxDQUNBLEtBQUEsQ0FBQSxLQUFBLHlCQUFBLE9BQUEsQ0FBQSxPQUFBLENBQUEsQ0FBQSxDQUVBLEtBQWEsQ0FBQSxTQUFTLENBQ2xCLFdBQUEsQ0FBb0IsSUFBcEIsQ0FBK0IsK0NBQVgsS0FBQSxJQUFBLENBQUEsSUFBQSxDQUFjLENBRWxDLE9BQU8sQ0FBQyxLQUFELENBQWUsSUFBZixDQUE0QixLQUE1QixDQUF3QywrQ0FDM0MsTUFBTyxvQkFBb0IsS0FBSyxxQkFBcUIsSUFBSSxzQkFBc0IsS0FBSyxPQUFwRixDQUNILENBQ0QsT0FBTyxDQUFDLEtBQUQsQ0FBZSxJQUFmLENBQTRCLEtBQTVCLENBQXdDLCtDQUMzQyxHQUFHLENBQUMsT0FBTyxDQUFDLFVBQVIsQ0FBbUIsV0FBVyxLQUFLLElBQUksRUFBdkMsQ0FBSixDQUErQyxrREFDM0MsT0FBTyxDQUFDLFNBQVIsQ0FBa0IsV0FBVyxLQUFLLElBQUksRUFBdEMsRUFDSCxDQUZELGdDQUQyQyx1QkFJM0MsR0FBSSxPQUFPLENBQUMsVUFBUixDQUFtQixXQUFXLEtBQUssSUFBSSxJQUFJLEtBQUssT0FBaEQsQ0FBSixDQUE2RCxrREFDekQsT0FBTyxDQUFDLEdBQVIsQ0FBWSxLQUFLLENBQUMsR0FBTixDQUFVLDBCQUFWLENBQVosRUFDSCxDQUZELElBRU8sbURBQ0gsT0FBTyxDQUFDLGFBQVIsQ0FBc0IsV0FBVyxLQUFLLElBQUksSUFBSSxLQUFLLE9BQW5ELENBQTRELEtBQUssT0FBTCxDQUFhLEtBQWIsQ0FBb0IsSUFBcEIsQ0FBMEIsS0FBMUIsQ0FBNUQsRUFERyx3QkFF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Q0FBZ0IsTUFBTSxDQUFDLE1BQUQsQ0FBdEIsQ0FDSCxDQUZELGdDQUZ5RCx3QkFLekQsR0FBSSxJQUFJLEVBQUksU0FBWixDQUFzQixvREFDbEIsT0FBTyxDQUFDLElBQVIsQ0FBZSxNQUFNLENBQUMsSUFBRCxDQUFyQixDQUNILENBRkQsaUNBTHlELHdCQVF6RCxHQUFJLEtBQUssRUFBSSxTQUFiLENBQXVCLG9EQUNuQixPQUFPLENBQUMsS0FBUixDQUFnQixNQUFNLENBQUMsS0FBRCxDQUF0QixDQUNILENBRkQsaUNBUnlELHdCQVd6RCxPQUFPLENBQUMsTUFBUixDQUFlLFdBQVcsS0FBSyxJQUFJLElBQUksS0FBSyxPQUE1QyxFQVh5RCx3QkFZekQsT0FBTyxDQUFDLGFBQVIsQ0FBc0IsV0FBVyxLQUFLLElBQUksSUFBSSxPQUFPLENBQUMsS0FBSyxPQUEzRCxDQUFvRSxLQUFLLE9BQUwsQ0FBYSxPQUFPLENBQUMsS0FBckIsQ0FBNEIsT0FBTyxDQUFDLElBQXBDLENBQTBDLE9BQU8sQ0FBQyxLQUFsRCxDQUFwRSxFQVp5RCx3QkFhekQsT0FBTyxDQUFDLEdBQVIsQ0FBWSxLQUFLLENBQUMsS0FBTixDQUFZLHVCQUFaLENBQVosRUFDSCxDQWRELElBY08sbURBQ0gsT0FBTyxDQUFDLEdBQVIsQ0FBWSxLQUFLLENBQUMsR0FBTixDQUFVLDJCQUFWLENBQVosRUFDSCxDQUNKLENBakdpQixDLHdCQUF0QixPQUFBLENBQUEsU0FBQSxDQUFBLFNBQUEsQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIGZpbGVzeXMgZnJvbSBcImZzXCI7XG5pbXBvcnQgKiBhcyBjaGFsayBmcm9tIFwiY2hhbGtcIjtcblxuZXhwb3J0IGNsYXNzIE5vdGVDbGFzcyB7XG4gICAgY29uc3RydWN0b3IocHJpdmF0ZSB1c2VyOnN0cmluZyl7fVxuXG4gICAgZ2V0SlNPTih0aXRsZTpzdHJpbmcsIGJvZHk6c3RyaW5nLCBjb2xvcjpzdHJpbmcpe1xuICAgICAgICByZXR1cm4gYHtcXG5cXHRcXFwidGl0bGVcXFwiOlxcXCIke3RpdGxlfVxcXCIsXFxuXFx0XFxcImJvZHlcXFwiOlxcXCIke2JvZHl9XFxcIixcXG5cXHRcXFwiY29sb3JcXFwiOlxcXCIke2NvbG9yfVxcXCJcXG59YDtcbiAgICB9XG4gICAgYWRkTm90ZSh0aXRsZTpzdHJpbmcsIGJvZHk6c3RyaW5nLCBjb2xvcjpzdHJpbmcpe1xuICAgICAgICBpZighZmlsZXN5cy5leGlzdHNTeW5jKGAuL2ZpbGVzLyR7dGhpcy51c2VyfWApKXtcbiAgICAgICAgICAgIGZpbGVzeXMubWtkaXJTeW5jKGAuL2ZpbGVzLyR7dGhpcy51c2VyfWApO1xuICAgICAgICB9XG4gICAgICAgIGlmIChmaWxlc3lzLmV4aXN0c1N5bmMoYC4vZmlsZXMvJHt0aGlzLnVzZXJ9LyR7dGl0bGV9Lmpzb25gKSl7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhjaGFsay5yZWQoXCJUaGUgbm90ZSBhbHJlYWR5IGV4aXN0cyFcIikpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZmlsZXN5cy53cml0ZUZpbGVTeW5jKGAuL2ZpbGVzLyR7dGhpcy51c2VyfS8ke3RpdGxlfS5qc29uYCwgdGhpcy5nZXRKU09OKHRpdGxlLCBib2R5LCBjb2xvcikpO1xuICAgICAgICAgICAgY29uc29sZS5sb2coY2hhbGsuZ3JlZW4oXCJTdWNjZXNmdWxseSBjcmVhdGVkIVwiKSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcm1Ob3RlKHRpdGxlOnN0cmluZyl7XG4gICAgICAgIGlmIChmaWxlc3lzLmV4aXN0c1N5bmMoYC4vZmlsZXMvJHt0aGlzLnVzZXJ9LyR7dGl0bGV9Lmpzb25gKSl7XG4gICAgICAgICAgICBmaWxlc3lzLnJtU3luYyhgLi9maWxlcy8ke3RoaXMudXNlcn0vJHt0aXRsZX0uanNvbmApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc29sZS5sb2coY2hhbGsucmVkKFwiVGhhdCBub3RlIGRvZXMgbm90IGV4aXN0LlwiKSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgbHNOb3RlKCl7XG4gICAgICAgIGlmKCFmaWxlc3lzLmV4aXN0c1N5bmMoYC4vZmlsZXMvJHt0aGlzLnVzZXJ9YCkpe1xuICAgICAgICAgICAgY29uc29sZS5sb2coY2hhbGsucmVkKGBVc2VyICR7dGhpcy51c2VyfSBoYXMgbm8gbm90ZXNgKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZihmaWxlc3lzLnJlYWRkaXJTeW5jKGAuL2ZpbGVzLyR7dGhpcy51c2VyfWApLmxlbmd0aCA9PSAwKXtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhjaGFsay5yZWQoYFVzZXIgJHt0aGlzLnVzZXJ9IGhhcyBubyBub3Rlc2ApKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coY2hhbGsuZ3JlZW4oYE5vdGVzIG9mICR7dGhpcy51c2VyfTogXFxuYCkpO1xuICAgICAgICAgICAgICAgIGZpbGVzeXMucmVhZGRpclN5bmMoYC4vZmlsZXMvJHt0aGlzLnVzZXJ9YCkuZm9yRWFjaCgoZWxlbSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBsZXQganNvbm9iaiA9IEpTT04ucGFyc2UoU3RyaW5nKGZpbGVzeXMucmVhZEZpbGVTeW5jKGAuL2ZpbGVzLyR7dGhpcy51c2VyfS8ke2VsZW19YCkpKTtcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChqc29ub2JqLmNvbG9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwicmVkXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coY2hhbGsucmVkKGpzb25vYmoudGl0bGUpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJibHVlXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coY2hhbGsuYmx1ZShqc29ub2JqLnRpdGxlKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiZ3JlZW5cIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhjaGFsay5ncmVlbihqc29ub2JqLnRpdGxlKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwieWVsbG93XCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coY2hhbGsueWVsbG93KGpzb25vYmoudGl0bGUpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coY2hhbGsucmVkKFwiVGhlIGNvbG9yIG9mIHRoaXMgbm90ZSBpcyBub3QgdmFsaWRcIikpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmVhZE5vdGUodGl0bGU6c3RyaW5nKXtcbiAgICAgICAgaWYgKGZpbGVzeXMuZXhpc3RzU3luYyhgLi9maWxlcy8ke3RoaXMudXNlcn0vJHt0aXRsZX0uanNvbmApKXtcbiAgICAgICAgICAgIGxldCBqc29ub2JqID0gSlNPTi5wYXJzZShTdHJpbmcoZmlsZXN5cy5yZWFkRmlsZVN5bmMoYC4vZmlsZXMvJHt0aGlzLnVzZXJ9LyR7dGl0bGV9Lmpzb25gKSkpO1xuICAgICAgICAgICAgc3dpdGNoIChqc29ub2JqLmNvbG9yKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBcInJlZFwiOlxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhjaGFsay5yZWQoanNvbm9iai50aXRsZSArIFwiXFxuXCIgKyBqc29ub2JqLmJvZHkpKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcImJsdWVcIjpcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coY2hhbGsuYmx1ZShqc29ub2JqLnRpdGxlICsgXCJcXG5cIiArIGpzb25vYmouYm9keSkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwiZ3JlZW5cIjpcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coY2hhbGsuZ3JlZW4oanNvbm9iai50aXRsZSArIFwiXFxuXCIgKyBqc29ub2JqLmJvZHkpKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcInllbGxvd1wiOlxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhjaGFsay55ZWxsb3coanNvbm9iai50aXRsZSArIFwiXFxuXCIgKyBqc29ub2JqLmJvZHkpKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coY2hhbGsucmVkKFwiVGhlIGNvbG9yIG9mIHRoaXMgbm90ZSBpcyBub3QgdmFsaWRcIikpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGNoYWxrLnJlZChcIlRoYXQgbm90ZSBkb2VzIG5vdCBleGlzdC5cIikpO1xuICAgICAgICB9XG4gICAgfVxuICAgIG1vZGlmeU5vdGUodGl0bGU6c3RyaW5nLCBudGl0bGU6c3RyaW5nfHVua25vd24sIGJvZHk6c3RyaW5nfHVua25vd24sIGNvbG9yOnN0cmluZ3x1bmtub3duKXtcbiAgICAgICAgaWYgKGZpbGVzeXMuZXhpc3RzU3luYyhgLi9maWxlcy8ke3RoaXMudXNlcn0vJHt0aXRsZX0uanNvbmApKXtcbiAgICAgICAgICAgIGxldCBqc29ub2JqID0gSlNPTi5wYXJzZShTdHJpbmcoZmlsZXN5cy5yZWFkRmlsZVN5bmMoYC4vZmlsZXMvJHt0aGlzLnVzZXJ9LyR7dGl0bGV9Lmpzb25gKSkpO1xuICAgICAgICAgICAgaWYgKG50aXRsZSAhPSB1bmRlZmluZWQpe1xuICAgICAgICAgICAgICAgIGpzb25vYmoudGl0bGUgPSBTdHJpbmcobnRpdGxlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChib2R5ICE9IHVuZGVmaW5lZCl7XG4gICAgICAgICAgICAgICAganNvbm9iai5ib2R5ID0gU3RyaW5nKGJvZHkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGNvbG9yICE9IHVuZGVmaW5lZCl7XG4gICAgICAgICAgICAgICAganNvbm9iai5jb2xvciA9IFN0cmluZyhjb2xvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmaWxlc3lzLnJtU3luYyhgLi9maWxlcy8ke3RoaXMudXNlcn0vJHt0aXRsZX0uanNvbmApO1xuICAgICAgICAgICAgZmlsZXN5cy53cml0ZUZpbGVTeW5jKGAuL2ZpbGVzLyR7dGhpcy51c2VyfS8ke2pzb25vYmoudGl0bGV9Lmpzb25gLCB0aGlzLmdldEpTT04oanNvbm9iai50aXRsZSwganNvbm9iai5ib2R5LCBqc29ub2JqLmNvbG9yKSk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhjaGFsay5ncmVlbihcIlN1Y2Nlc2Z1bGx5IG1vZGlmaWVkIVwiKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhjaGFsay5yZWQoXCJUaGF0IG5vdGUgZG9lcyBub3QgZXhpc3QuXCIpKTtcbiAgICAgICAgfVxuICAgIH1cbn0iXX0=